import{Q as ge}from"./QImg.92d61c0d.js";import{Q as k}from"./QBtn.6cab167c.js";import{u as pe,d as _e,Q as $,a as be,b as A}from"./QCard.40996e4c.js";import{Q as ye}from"./QSeparator.a2d8f17d.js";import{c as Q,h as Y}from"./dom.cd849552.js";import{h as S,s as h,d as _,j as H,m as j,S as I,R as M,T as we,g as F,J as Te,_ as Se,A as xe,o as w,W as L,$ as Pe,X as ke,C as Ce,a as s,w as r,c as N,E as b,Z as C,B as Qe,Y as De,aa as Oe,ab as qe}from"./index.fc4d1fc7.js";import{u as Ee,v as R,a as Ve,b as Be,c as $e,r as W,s as Ae,p as z,d as He}from"./position-engine.bccaf70a.js";import{u as je,i as Ie,a as Me,j as Le,b as Ne,k as Re,d as We,l as ze,c as U,Q as Ue}from"./QDialog.fdb88d66.js";import{g as Ye}from"./scroll.eb09e63a.js";import{C as Fe}from"./ClosePopup.af2660f6.js";import{P as J,_ as Je}from"./mapView.821e84db.js";const Xe=S("div",{class:"q-space"});var Ze=Q({name:"QSpace",setup(){return()=>Xe}}),Ge=Q({name:"QTooltip",inheritAttrs:!1,props:{...Ee,...je,...Ie,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:R},self:{type:String,default:"top middle",validator:R},offset:{type:Array,default:()=>[14,14],validator:Ve},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Me],setup(e,{slots:t,emit:u,attrs:d}){let i,f;const c=F(),{proxy:{$q:l}}=c,a=h(null),v=h(!1),Z=_(()=>z(e.anchor,l.lang.rtl)),G=_(()=>z(e.self,l.lang.rtl)),K=_(()=>e.persistent!==!0),{registerTick:ee,removeTick:te}=Le(),{registerTimeout:y}=Ne(),{transitionProps:ae,transitionStyle:oe}=Re(e),{localScrollTarget:D,changeScrollEvent:le,unconfigureScrollTarget:se}=Be(e,V),{anchorEl:n,canShow:ne,anchorEvents:g}=$e({showing:v,configureAnchorEl:me}),{show:ie,hide:x}=We({showing:v,canShow:ne,handleShow:ue,handleHide:ce,hideOnRouteChange:K,processOnMount:!0});Object.assign(g,{delayShow:de,delayHide:fe});const{showPortal:O,hidePortal:q,renderPortal:re}=ze(c,a,he,"tooltip");if(l.platform.is.mobile===!0){const o={anchorEl:n,innerRef:a,onClickOutside(m){return x(m),m.target.classList.contains("q-dialog__backdrop")&&Te(m),!0}},P=_(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);H(P,m=>{(m===!0?He:W)(o)}),j(()=>{W(o)})}function ue(o){O(),ee(()=>{f=new MutationObserver(()=>p()),f.observe(a.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),p(),V()}),i===void 0&&(i=H(()=>l.screen.width+"|"+l.screen.height+"|"+e.self+"|"+e.anchor+"|"+l.lang.rtl,p)),y(()=>{O(!0),u("show",o)},e.transitionDuration)}function ce(o){te(),q(),E(),y(()=>{q(!0),u("hide",o)},e.transitionDuration)}function E(){f!==void 0&&(f.disconnect(),f=void 0),i!==void 0&&(i(),i=void 0),se(),I(g,"tooltipTemp")}function p(){const o=a.value;n.value===null||!o||Ae({el:o,offset:e.offset,anchorEl:n.value,anchorOrigin:Z.value,selfOrigin:G.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function de(o){if(l.platform.is.mobile===!0){U(),document.body.classList.add("non-selectable");const P=n.value,m=["touchmove","touchcancel","touchend","click"].map(B=>[P,B,"delayHide","passiveCapture"]);M(g,"tooltipTemp",m)}y(()=>{ie(o)},e.delay)}function fe(o){l.platform.is.mobile===!0&&(I(g,"tooltipTemp"),U(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{x(o)},e.hideDelay)}function me(){if(e.noParentEvent===!0||n.value===null)return;const o=l.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];M(g,"anchor",o)}function V(){if(n.value!==null||e.scrollTarget!==void 0){D.value=Ye(n.value,e.scrollTarget);const o=e.noParentEvent===!0?p:x;le(D.value,o)}}function ve(){return v.value===!0?S("div",{...d,ref:a,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",d.class],style:[d.style,oe.value],role:"tooltip"},Y(t.default)):null}function he(){return S(we,ae.value,ve)}return j(E),Object.assign(c.proxy,{updatePosition:p}),re}}),Ke=Q({name:"QBar",props:{...pe,dense:Boolean},setup(e,{slots:t}){const{proxy:{$q:u}}=F(),d=_e(e,u),i=_(()=>`q-bar row no-wrap items-center q-bar--${e.dense===!0?"dense":"standard"}  q-bar--${d.value===!0?"dark":"light"}`);return()=>S("div",{class:i.value,role:"toolbar"},Y(t.default))}});const et="http://127.0.0.1:8000/",T=h([]),X=()=>{T.value!=null&&(T.value=[]),J.allPostInDashboard().then(e=>{e.data.forEach(t=>{T.value.push({id:t.id,img:et+t.media[0].url,latitude:t.latitude,longitude:t.longitude,title:t.title,username:t.user.name,description:t.description,upVoteCount:t.up_vote_count})})})};X();const tt=e=>(Oe("data-v-2985891c"),e=e(),qe(),e),at={class:"q-pa-md row items-start q-gutter-md justify-center"},ot={class:"row no-wrap items-center"},lt={class:"col text-h6 ellipsis"},st=tt(()=>b("div",{class:"col-auto text-grey text-caption q-pt-md row no-wrap items-center"},null,-1)),nt={class:"text-subtitle1"},it={class:"text-caption text-grey"},rt=xe({__name:"DashboardPage",setup(e){const t=h({lat:0,long:0,state:"view"}),u=h(!1),d=(c,l)=>{t.value.lat=c,t.value.long=l,u.value=!0},i=h(!0),f=c=>{J.likePost(c).then(l=>{l.status==200&&X()})};return(c,l)=>(w(),L("div",at,[(w(!0),L(Pe,null,ke(Ce(T),a=>(w(),N(A,{class:"my-card",key:a},{default:r(()=>[s(ge,{src:a.img},null,8,["src"]),s($,null,{default:r(()=>[s(k,{fab:"",color:"light-blue-8",icon:"place",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},onClick:v=>d(a.latitude,a.longitude)},null,8,["onClick"]),b("div",ot,[b("div",lt,C(a.title),1),st])]),_:2},1024),s($,{class:"q-pt-none"},{default:r(()=>[b("div",nt,C(a.username),1),b("div",it,C(a.description),1)]),_:2},1024),s(ye),s(be,null,{default:r(()=>[s(k,{color:"light-blue-8","icon-right":"favorite",label:`Like (${a.upVoteCount})`,onClick:v=>f(a.id)},null,8,["label","onClick"])]),_:2},1024)]),_:2},1024))),128)),s(Ue,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=a=>u.value=a),persistent:"",maximized:i.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:r(()=>[s(A,{class:"bg-primary text-white"},{default:r(()=>[s(Ke,null,{default:r(()=>[s(Ze),Qe((w(),N(k,{dense:"",flat:"",icon:"close"},{default:r(()=>[s(Ge,{class:"bg-white text-primary"},{default:r(()=>[De("Close")]),_:1})]),_:1})),[[Fe]])]),_:1}),s(Je,{class:"full-width full-height",latitude:t.value.lat,longitude:t.value.long,state:"view"},null,8,["latitude","longitude"])]),_:1})]),_:1},8,["modelValue","maximized"])]))}});var yt=Se(rt,[["__scopeId","data-v-2985891c"]]);export{yt as default};
