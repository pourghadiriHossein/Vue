import{u as Q,d as T}from"./QCard.40996e4c.js";import{d as J,e as Z,f as ee,g as te,a as w,R as le}from"./QBtn.6cab167c.js";import{c as N,e as ae,h as X,f as ne,i as ie}from"./dom.cd849552.js";import{s as R,d as o,h as m,Q as ue,J as O,g as P,P as re,O as oe,H as se,M as ce}from"./index.fc4d1fc7.js";import{u as de,a as fe,b as ve,c as me,d as ge,e as be,f as he,g as U}from"./QInput.43f86c85.js";var Ve=N({name:"QItem",props:{...Q,...J,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:d}){const{proxy:{$q:f}}=P(),i=T(e,f),{hasLink:v,linkAttrs:S,linkClass:x,linkTag:z,navigateOnClick:F}=Z(),k=R(null),h=R(null),_=o(()=>e.clickable===!0||v.value===!0||e.tag==="label"),q=o(()=>e.disable!==!0&&_.value===!0),p=o(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(v.value===!0&&e.active===null?x.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(q.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),s=o(()=>{if(e.insetLevel===void 0)return null;const u=f.lang.rtl===!0?"Right":"Left";return{["padding"+u]:16+e.insetLevel*56+"px"}});function a(u){q.value===!0&&(h.value!==null&&(u.qKeyEvent!==!0&&document.activeElement===k.value?h.value.focus():document.activeElement===h.value&&k.value.focus()),F(u))}function B(u){if(q.value===!0&&ue(u,13)===!0){O(u),u.qKeyEvent=!0;const V=new MouseEvent("click",u);V.qKeyEvent=!0,k.value.dispatchEvent(V)}d("keyup",u)}function t(){const u=ae(l.default,[]);return q.value===!0&&u.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:h})),u}return()=>{const u={ref:k,class:p.value,style:s.value,role:"listitem",onClick:a,onKeyup:B};return q.value===!0?(u.tabindex=e.tabindex||"0",Object.assign(u,S.value)):_.value===!0&&(u["aria-disabled"]="true"),m(z.value,u,t())}}}),Ie=N({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const d=o(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>m("div",{class:d.value},X(l.default))}}),je=N({name:"QList",props:{...Q,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const d=P(),f=T(e,d.proxy.$q),i=o(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(f.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>m(e.tag,{class:i.value},X(l.default))}});const qe={xs:8,sm:10,md:14,lg:20,xl:24};var ye=N({name:"QChip",props:{...Q,...ee,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:d}){const{proxy:{$q:f}}=P(),i=T(e,f),v=te(e,qe),S=o(()=>e.selected===!0||e.icon!==void 0),x=o(()=>e.selected===!0?e.iconSelected||f.iconSet.chip.selected:e.icon),z=o(()=>e.iconRemove||f.iconSet.chip.remove),F=o(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),k=o(()=>{const a=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(a?` text-${a} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(F.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),h=o(()=>{const a=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},B={...a,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||f.lang.label.remove};return{chip:a,remove:B}});function _(a){a.keyCode===13&&q(a)}function q(a){e.disable||(d("update:selected",!e.selected),d("click",a))}function p(a){(a.keyCode===void 0||a.keyCode===13)&&(O(a),e.disable===!1&&(d("update:modelValue",!1),d("remove")))}function s(){const a=[];F.value===!0&&a.push(m("div",{class:"q-focus-helper"})),S.value===!0&&a.push(m(w,{class:"q-chip__icon q-chip__icon--left",name:x.value}));const B=e.label!==void 0?[m("div",{class:"ellipsis"},[e.label])]:void 0;return a.push(m("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},ie(l.default,B))),e.iconRight&&a.push(m(w,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&a.push(m(w,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:z.value,...h.value.remove,onClick:p,onKeyup:p})),a}return()=>{if(e.modelValue===!1)return;const a={class:k.value,style:v.value};return F.value===!0&&Object.assign(a,h.value.chip,{onClick:q,onKeyup:_}),ne("div",a,s(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[le,e.ripple]])}}});function j(e,l,d,f){const i=[];return e.forEach(v=>{f(v)===!0?i.push(v):l.push({failedPropValidation:d,file:v})}),i}function L(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),O(e)}const Se={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},ke=["rejected"];function xe({editable:e,dnd:l,getFileInput:d,addFilesToQueue:f}){const{props:i,emit:v,proxy:S}=P(),x=R(null),z=o(()=>i.accept!==void 0?i.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),F=o(()=>parseInt(i.maxFiles,10)),k=o(()=>parseInt(i.maxTotalSize,10));function h(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&re(t);else{const u=d();u&&u!==t.target&&u.click(t)}}function _(t){e.value&&t&&f(null,t)}function q(t,u,V,D){let r=Array.from(u||t.target.files);const y=[],I=()=>{y.length!==0&&v("rejected",y)};if(i.accept!==void 0&&z.value.indexOf("*/")===-1&&(r=j(r,y,"accept",c=>z.value.some(g=>c.type.toUpperCase().startsWith(g)||c.name.toUpperCase().endsWith(g))),r.length===0))return I();if(i.maxFileSize!==void 0){const c=parseInt(i.maxFileSize,10);if(r=j(r,y,"max-file-size",g=>g.size<=c),r.length===0)return I()}if(i.multiple!==!0&&r.length!==0&&(r=[r[0]]),r.forEach(c=>{c.__key=c.webkitRelativePath+c.lastModified+c.name+c.size}),D===!0){const c=V.map(g=>g.__key);r=j(r,y,"duplicate",g=>c.includes(g.__key)===!1)}if(r.length===0)return I();if(i.maxTotalSize!==void 0){let c=D===!0?V.reduce((g,E)=>g+E.size,0):0;if(r=j(r,y,"max-total-size",g=>(c+=g.size,c<=k.value)),r.length===0)return I()}if(typeof i.filter=="function"){const c=i.filter(r);r=j(r,y,"filter",g=>c.includes(g))}if(i.maxFiles!==void 0){let c=D===!0?V.length:0;if(r=j(r,y,"max-files",()=>(c++,c<=F.value)),r.length===0)return I()}if(I(),r.length!==0)return r}function p(t){L(t),l.value!==!0&&(l.value=!0)}function s(t){O(t),(t.relatedTarget!==null||oe.is.safari!==!0?t.relatedTarget!==x.value:document.elementsFromPoint(t.clientX,t.clientY).includes(x.value)===!1)===!0&&(l.value=!1)}function a(t){L(t);const u=t.dataTransfer.files;u.length!==0&&f(null,u),l.value=!1}function B(t){if(l.value===!0)return m("div",{ref:x,class:`q-${t}__dnd absolute-full`,onDragenter:L,onDragover:L,onDragleave:s,onDrop:a})}return Object.assign(S,{pickFiles:h,addFiles:_}),{pickFiles:h,addFiles:_,onDragover:p,onDragleave:s,processFiles:q,getDndNode:B,maxFilesNumber:F,maxTotalSizeNumber:k}}const W=["B","KB","MB","GB","TB","PB"];function Fe(e){let l=0;for(;parseInt(e,10)>=1024&&l<W.length-1;)e/=1024,++l;return`${e.toFixed(1)}${W[l]}`}function De(e,l,d){return d<=l?l:Math.min(d,Math.max(l,e))}function Re(e,l,d){if(d<=l)return l;const f=d-l+1;let i=l+(e-l)%f;return i<l&&(i=f+i),i===0?0:i}var Ne=N({name:"QFile",inheritAttrs:!1,props:{...de,...fe,...Se,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ve,...ke],setup(e,{slots:l,emit:d,attrs:f}){const{proxy:i}=P(),v=me(),S=R(null),x=R(!1),z=ge(e),{pickFiles:F,onDragover:k,onDragleave:h,processFiles:_,getDndNode:q}=xe({editable:v.editable,dnd:x,getFileInput:K,addFilesToQueue:M}),p=be(e),s=o(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),a=o(()=>U(s.value)),B=o(()=>s.value.map(n=>n.name).join(", ")),t=o(()=>Fe(s.value.reduce((n,b)=>n+b.size,0))),u=o(()=>({totalSize:t.value,filesNumber:s.value.length,maxFiles:e.maxFiles})),V=o(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:z.value,...f,id:v.targetUid.value,disabled:v.editable.value!==!0})),D=o(()=>"q-file q-field--auto-height"+(x.value===!0?" q-file--dnd":"")),r=o(()=>e.multiple===!0&&e.append===!0);function y(n){const b=s.value.slice();b.splice(n,1),c(b)}function I(n){const b=s.value.indexOf(n);b>-1&&y(b)}function c(n){d("update:modelValue",e.multiple===!0?n:n[0])}function g(n){n.keyCode===13&&ce(n)}function E(n){(n.keyCode===13||n.keyCode===32)&&F(n)}function K(){return S.value}function M(n,b){const C=_(n,b,s.value,r.value),$=K();$!=null&&($.value=""),C!==void 0&&((e.multiple===!0?e.modelValue&&C.every(H=>s.value.includes(H)):e.modelValue===C[0])||c(r.value===!0?s.value.concat(C):C))}function A(){return[m("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function Y(){if(l.file!==void 0)return s.value.length===0?A():s.value.map((b,C)=>l.file({index:C,file:b,ref:this}));if(l.selected!==void 0)return s.value.length===0?A():l.selected({files:s.value,ref:this});if(e.useChips===!0)return s.value.length===0?A():s.value.map((b,C)=>m(ye,{key:"file-"+C,removable:v.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{y(C)}},()=>m("span",{class:"ellipsis",textContent:b.name})));const n=e.displayValue!==void 0?e.displayValue:B.value;return n.length!==0?[m("div",{class:e.inputClass,style:e.inputStyle,textContent:n})]:A()}function G(){const n={ref:S,...V.value,...p.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:M};return e.multiple===!0&&(n.multiple=!0),m("input",n)}return Object.assign(v,{fieldClass:D,emitValue:c,hasValue:a,inputRef:S,innerValue:s,floatingLabel:o(()=>a.value===!0||U(e.displayValue)),computedCounter:o(()=>{if(e.counterLabel!==void 0)return e.counterLabel(u.value);const n=e.maxFiles;return`${s.value.length}${n!==void 0?" / "+n:""} (${t.value})`}),getControlChild:()=>q("file"),getControl:()=>{const n={ref:v.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return v.editable.value===!0&&Object.assign(n,{onDragover:k,onDragleave:h,onKeydown:g,onKeyup:E}),m("div",n,[G()].concat(Y()))}}),Object.assign(i,{removeAtIndex:y,removeFile:I,getNativeElement:()=>S.value}),se(i,"nativeEl",()=>S.value),he(v)}});export{je as Q,Ve as a,Ie as b,Ne as c,De as d,ye as e,Re as n};
